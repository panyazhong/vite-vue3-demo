import{w as n,d as e,a0 as t,a as o,B as i,O as r,ad as a,ae as l,h as u,e as s,o as c,f as d,g as f}from"./vendor.6c337aab.js";var p,m=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],g=function(n){return-1!==m.map((function(n){return n.toLowerCase()})).indexOf(n.toLowerCase())},v=function(e,t,o,i,r,a){i.setContent(a()),o.attrs["onUpdate:modelValue"]&&function(e,t,o,i){var r=e.modelEvents?e.modelEvents:null,a=Array.isArray(r)?r.join(" "):r;n(i,(function(n,t){o&&"string"==typeof n&&n!==t&&n!==o.getContent({format:e.outputFormat})&&o.setContent(n)})),o.on(a||"change input undo redo",(function(){t.emit("update:modelValue",o.getContent({format:e.outputFormat}))}))}(t,o,i,r),function(n,e,t){Object.keys(e).filter(g).forEach((function(o){var i=e[o];"function"==typeof i&&("onInit"===o?i(n,t):t.on(o.substring(2),(function(n){return i(n,t)})))}))}(e,o.attrs,i)},y=0,h=function(n){var e=Date.now();return n+"_"+Math.floor(1e9*Math.random())+ ++y+String(e)},C=function(n){return void 0===n||""===n?[]:Array.isArray(n)?n:n.split(" ")},S=function(){return{listeners:[],scriptId:h("tiny-script"),scriptLoaded:!1}},b=(p=S(),{load:function(n,e,t){p.scriptLoaded?t():(p.listeners.push(t),n.getElementById(p.scriptId)||function(n,e,t,o){var i=e.createElement("script");i.referrerPolicy="origin",i.type="application/javascript",i.id=n,i.src=t;var r=function(){i.removeEventListener("load",r),o()};i.addEventListener("load",r),e.head&&e.head.appendChild(i)}(p.scriptId,n,e,(function(){p.listeners.forEach((function(n){return n()})),p.scriptLoaded=!0})))},reinitialize:function(){p=S()}}),w=function(){var n="undefined"!=typeof window?window:global;return n&&n.tinymce?n.tinymce:null},D={apiKey:String,cloudChannel:String,id:String,init:Object,initialValue:String,inline:Boolean,modelEvents:[String,Array],plugins:[String,Array],tagName:String,toolbar:[String,Array],modelValue:String,disabled:Boolean,tinymceScriptSrc:String,outputFormat:{type:String,validator:function(n){return"html"===n||"text"===n}}},E=function(){return(E=Object.assign||function(n){for(var e,t=1,o=arguments.length;t<o;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n}).apply(this,arguments)},M=e({props:D,setup:function(e,s){var c=t(e),d=c.disabled,f=c.modelValue,p=o(null),m=null,g=e.id||h("tiny-vue"),y=e.init&&e.init.inline||e.inline,S=!!s.attrs["onUpdate:modelValue"],D=!0,M=e.initialValue?e.initialValue:"",O="",P=function(){var n,t,o,i=(n=D,S?function(){return(null==f?void 0:f.value)?f.value:""}:function(){return n?M:O}),r=E(E({},e.init),{readonly:e.disabled,selector:"#"+g,plugins:(t=e.init&&e.init.plugins,o=e.plugins,C(t).concat(C(o))),toolbar:e.toolbar||e.init&&e.init.toolbar,inline:y,setup:function(n){m=n,n.on("init",(function(t){return v(t,e,s,n,f,i)})),e.init&&"function"==typeof e.init.setup&&e.init.setup(n)}});(function(n){return null!==n&&"textarea"===n.tagName.toLowerCase()})(p.value)&&(p.value.style.visibility=""),w().init(r),D=!1};return n(d,(function(n){null!==m&&m.setMode(n?"readonly":"design")})),i((function(){if(null!==w())P();else if(p.value&&p.value.ownerDocument){var n=e.cloudChannel?e.cloudChannel:"5",t=e.apiKey?e.apiKey:"no-api-key",o=null==e.tinymceScriptSrc?"https://cdn.tiny.cloud/1/"+t+"/tinymce/"+n+"/tinymce.min.js":e.tinymceScriptSrc;b.load(p.value.ownerDocument,o,P)}})),r((function(){null!==w()&&w().remove(m)})),y||(a((function(){D||P()})),l((function(){var n;S||(O=m.getContent()),null===(n=w())||void 0===n||n.remove(m)}))),function(){return y?(n=u,t=g,o=p,i=e.tagName,n(i||"div",{id:t,ref:o})):function(n,e,t){return n("textarea",{id:e,visibility:"hidden",ref:t})}(u,g,p);var n,t,o,i}}});const O=e({setup:()=>({content:o('<p>使用tinymce-vue</p><strong>npm install --save "@tinymce/tinymce-vue@^4"</strong>'),setting:o({height:500}),set:()=>{console.log("set")}}),components:{Editor:M}});O.render=function(n,e,t,o,i,r){const a=s("editor");return c(),d("div",null,[f(a,{"api-key":"no-api-key",modelValue:n.content,"onUpdate:modelValue":e[1]||(e[1]=e=>n.content=e),init:{language:"zh_CN",height:500,menubar:!0,plugins:["advlist autolink lists link image charmap print preview anchor code","searchreplace visualblocks code fullscreen","insertdatetime media table paste code help wordcount"],toolbar1:"undo redo | formatselect | bold italic backcolor |             alignleft aligncenter alignright alignjustify |             bullist numlist outdent indent | removeformat | help image",font_formats:"微软雅黑=Microsoft YaHei,Helvetica Neue,PingFang SC,sans-serif;苹果苹方=PingFang SC,Microsoft YaHei,sans-serif;宋体=simsun,serif"}},null,8,["modelValue"])])};const P=e({setup:()=>({}),components:{tinymceSelf:O}});P.render=function(n,e,t,o,i,r){const a=s("tinymce-self");return c(),d("div",null,[f(a)])};export default P;
